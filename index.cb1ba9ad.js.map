{"mappings":"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","sources":["src/index.js"],"sourcesContent":["\nconst API_KEY = 'PGVpj5B2ke0spXMDy1QJDYveXLa7zjEE';\nconst BASE_URL = 'https://app.ticketmaster.com/discovery/v2/events.json';\n\nconst eventsContainer = document.querySelector('.main-events-container');\nconst paginationContainer = document.querySelector('.pagination-container');\nconst searchInput = document.getElementById('heroInputSearch');\n\nconst countriesBtn = document.getElementById('heroBtnCountry');\nconst countriesBlock = document.querySelector('.countries-block');\n\nconst modalBackdrop = document.querySelector('.modal-backdrop');\nconst closeBtn = document.querySelector('.btn-modal-close');\n\nconst modalContent = document.querySelector('.modal-content');\n\nlet allEvents = [];\nlet page = 1;\nconst size = 20;\nlet query = '';\n\nasync function getEvents() {\n  let url = `${BASE_URL}?apikey=${API_KEY}&size=${size}&page=${page - 1}`;\n\n  if (query) {\n    url += `&keyword=${query}`;\n  }\n\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\n\nfunction getEventImage(event) {\n  const img =\n    event.images.find(img => img.ratio === '4_3') ||\n    event.images.find(img => img.ratio === '3_2') ||\n    event.images[0];\n\n  return img.url;\n}\n\nfunction renderEvents(events = []) {\n  if (!events.length) {\n    eventsContainer.innerHTML =\n      '<li class=\"event-element\">No events found</li>';\n    return;\n  }\n\n  const markup = events\n    .map(\n      event =>\n        `<li class=\"event-element\" data-id=\"${event.id}\">\n          <div class=\"event-card-background\"></div>\n          <img src=\"${getEventImage(event)}\" width=\"280px\" class=\"event-image\">\n          <div class=\"event-text-container\">\n          <p class=\"event-name\">${event.name}</p>\n            <p class=\"event-time\">${event.dates.start.localDate}</p>\n            <p class=\"event-area\">${event._embedded.venues[0].name}</p>\n          </div>\n        </li>`\n    )\n    .join('');\n\n  eventsContainer.innerHTML = markup;\n}\n\nfunction renderPagination(totalPages) {\n  paginationContainer.innerHTML = '';\n\n  const prevBtn = document.createElement('button');\n  prevBtn.textContent = 'Prev';\n  prevBtn.className = 'pagination-btn';\n  prevBtn.disabled = page === 1;\n  prevBtn.onclick = () => {\n    page--;\n    startApp();\n  };\n  paginationContainer.appendChild(prevBtn);\n\n  for (let i = 1; i <= totalPages; i++) {\n    if (i < page - 2 || i > page + 2) continue;\n\n    const btn = document.createElement('button');\n    btn.textContent = i;\n    btn.className = 'pagination-btn';\n\n    if (i === page) {\n      btn.classList.add('active');\n    }\n\n    btn.onclick = () => {\n      page = i;\n      startApp();\n    };\n\n    paginationContainer.appendChild(btn);\n  }\n\n  const nextBtn = document.createElement('button');\n  nextBtn.textContent = 'Next';\n  nextBtn.className = 'pagination-btn';\n  nextBtn.disabled = page === totalPages;\n  nextBtn.onclick = () => {\n    page++;\n    startApp();\n  };\n  paginationContainer.appendChild(nextBtn);\n}\n\nfunction filterAndRender(value) {\n  query = value;\n  page = 1;\n  startApp();\n}\n\nasync function startApp() {\n  const data = await getEvents();\n\n  const events =\n    data && data._embedded && data._embedded.events\n      ? data._embedded.events\n      : [];\n\n  const totalPages =\n    data.page && data.page.totalPages ? data.page.totalPages : 1;\n\n  allEvents = events;\n  renderEvents(allEvents);\n  renderPagination(totalPages);\n  window.scrollTo(0, 0);\n}\n\nif (searchInput) {\n  searchInput.addEventListener('input', e => {\n    filterAndRender(e.target.value);\n  });\n}\n\nfunction renderModal(event) {\n  modalContent.innerHTML = `\n    <img src=\"${getEventImage(event)}\" width=\"280px\" class=\"modal-event-image\">\n    <p class=\"modal-event-info-title\">Info</p>\n    <p class=\"modal-event-info\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati iure maxime minus animi deserunt, aliquid soluta ipsa, suscipit quod saepe commodi asperiores quisquam temporibus totam sequi est vitae enim quidem!</p>\n    <p class=\"modal-event-title\">Title</p>\n    <p class=\"modal-event-name\">${event.name}</p>\n    <p class=\"modal-event-place-name\">Where</p>\n    <span class=\"modal-location\">${event._embedded.venues[0].country.name}, </span>\n    <span class=\"modal-location\">${event._embedded.venues[0].city.name}</span>\n    <p class=\"modal-location\">${event._embedded.venues[0].address.line1}</p>\n    <p class=\"modal-event-time-name\">When</p>\n    <p class=\"modal-time\" style=\"margin-bottom: 3px;\">${event.dates.start.localDate}</p>\n    <p class=\"modal-time\">${event.dates.start.localTime}</p>\n\n    <p class=\"modal-event-prices-title\">Prices</p>\n\n    <div class=\"modal-prices-wrapper\">\n    <div class=\"modal-prices\">\n    <div class=\"price-card\">\n    <p class=\"modal-event-prices modal-event-prices-compact\">Standart<br>300–500 UAH</p>\n    <button type=\"button\" class=\"modal-event-btn-buy\">Buy Tickets</button>\n    </div>\n    <div class=\"price-card\">\n    <p class=\"modal-event-prices modal-event-prices-compact\">VIP<br>1000–1500 UAH</p>\n    <button type=\"button\" class=\"modal-event-btn-buy\">Buy Tickets</button>\n    </div>\n    </div>\n    </div>\n  `;\n}\n\neventsContainer.addEventListener('click', e => {\n  const card = e.target.closest('.event-element');\n  if (!card) return;\n\n  const eventId = card.dataset.id;\n  const event = allEvents.find(ev => ev.id === eventId);\n\n  if (event) {\n    renderModal(event);\n    toggleModal();\n  }\n});\n\nfunction toggleModal() {\n  modalBackdrop.classList.toggle('is-hidden');\n}\n\ncloseBtn.addEventListener('click', toggleModal);\nmodalBackdrop.addEventListener('click', e => {\n  if (e.target === e.currentTarget) toggleModal();\n});\n\nstartApp();"],"names":["$1f0dc3b9307be026$var$eventsContainer","document","querySelector","$1f0dc3b9307be026$var$paginationContainer","$1f0dc3b9307be026$var$searchInput","getElementById","$1f0dc3b9307be026$var$modalBackdrop","$1f0dc3b9307be026$var$closeBtn","$1f0dc3b9307be026$var$modalContent","$1f0dc3b9307be026$var$allEvents","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$query","$1f0dc3b9307be026$var$getEventImage","event","images","find","img","ratio","url","async","$1f0dc3b9307be026$var$startApp","data","response","fetch","json","$1f0dc3b9307be026$var$getEvents","events","_embedded","totalPages","page","length","innerHTML","markup","map","id","name","dates","start","localDate","venues","join","$1f0dc3b9307be026$var$renderEvents","prevBtn","createElement","textContent","className","disabled","onclick","appendChild","i","btn","classList","add","nextBtn","$1f0dc3b9307be026$var$renderPagination","window","scrollTo","$1f0dc3b9307be026$var$toggleModal","toggle","addEventListener","e","value","target","card","closest","eventId","dataset","ev","country","city","address","line1","localTime","$1f0dc3b9307be026$var$renderModal","currentTarget"],"version":3,"file":"index.cb1ba9ad.js.map"}